<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal News Aggregator</title>
    <style>
        /* Minimal CSS */
        body { font-family: system-ui, sans-serif; margin: 20px; background: #f8f9fa; }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab { cursor: pointer; padding: 8px 12px; background: #e9ecef; border-radius: 4px; }
        .tab.active { background: #4dabf7; color: white; }
        .story-list { max-width: 800px; margin: 0 auto; }
        .story { margin-bottom: 12px; padding: 12px; background: white; border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .story a { color: #1a1a1a; text-decoration: none; }
        .story a:hover { text-decoration: underline; }
        .source { font-size: 0.8em; color: #666; margin-left: 8px; }
        .blocked { opacity: 0.5; }
    </style>
</head>
<body>
    <div class="tabs">
        <div class="tab active" onclick="showTab('tech')">Tech</div>
        <div class="tab" onclick="showTab('politics')">Politics</div>
    </div>
    <div id="tech-stories" class="story-list"></div>
    <div id="politics-stories" class="story-list" style="display: none;"></div>

    <script>
        // Replace with your NewsAPI key: https://newsapi.org/register
        const NEWSAPI_KEY = ac3e76cc2b974cc38df04daee32ff7bb;

        // User preferences (stored in localStorage)
        let preferences = JSON.parse(localStorage.getItem('prefs')) || {
            blockedSources: [],
            topics: ['Tech', 'Politics']
        };

        // Fetch and render Tech news
        async function loadTechNews() {
            const response = await fetch(
                `https://newsapi.org/v2/top-headlines?category=technology&apiKey=${NEWSAPI_KEY}`
            );
            const data = await response.json();
            renderStories('tech-stories', data.articles);
        }

        // Fetch and render Politics news
        async function loadPoliticsNews() {
            const response = await fetch(
                `https://newsapi.org/v2/top-headlines?category=general&country=us&apiKey=${NEWSAPI_KEY}`
            );
            const data = await response.json();
            renderStories('politics-stories', data.articles);
        }

        // Render stories to DOM
        function renderStories(containerId, articles) {
            const container = document.getElementById(containerId);
            container.innerHTML = articles
                .filter(article => !preferences.blockedSources.includes(article.source.name))
                .map(article => `
                    <div class="story ${preferences.blockedSources.includes(article.source.name) ? 'blocked' : ''}">
                        <a href="${article.url}" target="_blank">${article.title}</a>
                        <span class="source">${article.source.name}</span>
                    </div>
                `).join('');
        }

        // Tab navigation
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.story-list').forEach(div => div.style.display = 'none');
            document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
            document.getElementById(`${tabName}-stories`).style.display = 'block';
        }

        // Block/unblock a source
        document.body.addEventListener('click', (e) => {
            if (e.target.classList.contains('source')) {
                const source = e.target.textContent;
                preferences.blockedSources = preferences.blockedSources.includes(source) ?
                    preferences.blockedSources.filter(s => s !== source) :
                    [...preferences.blockedSources, source];
                localStorage.setItem('prefs', JSON.stringify(preferences));
                loadTechNews();
                loadPoliticsNews();
            }
        });

        // Initial load
        loadTechNews();
        loadPoliticsNews();
    </script>
</body>
</html>
